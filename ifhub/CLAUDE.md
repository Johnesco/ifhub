# IF Hub — Web Player for Inform 7 Games

A standalone static site that serves multiple Inform 7 games through a single browser interface with source viewer.

## Project Structure

```
ifhub/
├── CLAUDE.md              ← You are here
├── index.html             ← Landing page (game descriptions, links)
├── app.html               ← Player UI (game selector, source viewer, tabs)
├── play.html              ← Shared Parchment player (loaded in iframe by app.html)
├── play-template.html     ← Template for standalone play pages (generated per-game)
├── sound-standalone.html  ← Sound script block injected into play pages for sound-enabled games
├── games.json             ← Game registry (id, title, paths, sound flag)
├── deploy.sh              ← Copies game assets from projects/ into games/
├── lib/parchment/         ← Shared Parchment JS libraries (checked in)
└── games/                 ← Game assets (checked in, updated by deploy.sh)
    └── <game-id>/
        ├── index.html       ← Standalone play page (generated by deploy.sh)
        ├── story.ni         ← Source code
        ├── <game>.ulx.js    ← Base64-encoded Glulx binary
        ├── walkthrough.*    ← Walkthrough files (if available)
        ├── audio/           ← Sound files (if sound-enabled)
        └── lib/             ← Sound JS (if sound-enabled)
```

## Deploying Game Assets

Each game's source of truth lives under `C:\code\ifhub\projects\`. The `deploy.sh` script copies what ifhub needs into `games/`:

- Source (`.ni`) and binary (`.ulx.js` or `.z3.js`)
- Walkthrough files (HTML, text, guide, output)
- Sound assets for sound-enabled games (audio tracks + JS)
- Standalone `index.html` play pages (generated from `play-template.html`)

```bash
bash deploy.sh
```

Edit `deploy.sh` to add/remove games. Keep `games.json` in sync.

## Running Locally

```bash
bash deploy.sh
python -m http.server 8000
# Open http://localhost:8000/
```

## Adding a New Game

1. Add the game to the `GAMES` array in `deploy.sh`
2. Add a matching entry to `games.json`
3. Optionally add to `WALKTHROUGH_DIRS` and/or `SOUND_DIRS` in `deploy.sh`
4. Run `bash deploy.sh`

## Hosting on the Web

This is a pure static site — no server-side logic. Deployed to GitHub Pages from the repo directly. Run `deploy.sh` to update `games/`, then commit and push.

## Relation to Game Repos

- Each game project lives under `C:\code\ifhub\projects\` with its own repo and build process
- Game repos are never modified by this project — ifhub only reads from them
- The hub copies source, binaries, walkthroughs, and (for sound games) audio assets
- Game projects may have their own rich GitHub Pages sites (landing pages, maps, scenarios) — ifhub does not duplicate those; it provides its own unified player UI
- For shared Inform 7 tooling and references, see `C:\code\ifhub\CLAUDE.md`
